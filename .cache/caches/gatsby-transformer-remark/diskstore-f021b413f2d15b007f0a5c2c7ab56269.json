{"expireTime":9007200880603432000,"key":"transformer-remark-markdown-ast-d3a3e81cb169c26f3b9e86f5bd36dc57-gatsby-remark-imagesgatsby-remark-audiogatsby-remark-external-linksgatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"قبلا وقتی داشتم یه کلاسی می‌نوشتم که چنتا کانستراکتور داشت و اون \nکانستراکتور ها فقط در بخش کوچیکی از کارها باهم تفاوت داشتن، میومدم و \nکدهارو چندبار کپی می‌کردم.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":27,"offset":163},"indent":[1,1]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":27,"offset":163},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"بعد ها اومدم اون قسمتی که بین‌شون مشترکه رو توی یه تابع دیگه قرار دادم و هرجا که نیاز بود اون رو صدا می‌زدم.","position":{"start":{"line":6,"column":1,"offset":165},"end":{"line":6,"column":109,"offset":273},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":165},"end":{"line":6,"column":109,"offset":273},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"نمی‌دونستم که سی++ یه قابلیتی داره به اسم ","position":{"start":{"line":8,"column":1,"offset":275},"end":{"line":8,"column":43,"offset":317},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"constructor delegation","position":{"start":{"line":8,"column":44,"offset":318},"end":{"line":8,"column":66,"offset":340},"indent":[]}}],"position":{"start":{"line":8,"column":43,"offset":317},"end":{"line":8,"column":67,"offset":341},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":275},"end":{"line":8,"column":67,"offset":341},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"فرض کنیم همچین کدی داریم:","position":{"start":{"line":10,"column":1,"offset":343},"end":{"line":10,"column":26,"offset":368},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":343},"end":{"line":10,"column":26,"offset":368},"indent":[]}},{"type":"html","lang":"cpp","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// code to do A</span>\n    <span class=\"token punctuation\">}</span>\n  \n    <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// code to do A</span>\n        <span class=\"token comment\">// code to do B</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":12,"column":1,"offset":370},"end":{"line":27,"column":4,"offset":531},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"همونطور که می‌بینیم، کد کانستراکتور اولی توی کانستراکتور دومی کپی \nشده. برای اینکه از اینکار جلوگیری کنیم، از قابلیت delegate کردن \nکانستراکتور ها استفاده می‌کنیم و کد ما این شکلی می‌شه:","position":{"start":{"line":29,"column":1,"offset":533},"end":{"line":31,"column":55,"offset":719},"indent":[1,1]}}],"position":{"start":{"line":29,"column":1,"offset":533},"end":{"line":31,"column":55,"offset":719},"indent":[1,1]}},{"type":"html","lang":"cpp","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n  \n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// code to do A</span>\n    <span class=\"token punctuation\">}</span>\n  \n    <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Foo<span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// use Foo() default constructor to do A</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// code to do B</span>\n    <span class=\"token punctuation\">}</span>\n  \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":33,"column":1,"offset":721},"end":{"line":50,"column":4,"offset":921},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"توی این کد وقتی کانستراکتور دومی صدا زده میشه،‌ اول میاد و \nکانستراکتور اولی رو صدا میزنه و بعد میره کد های مربوط به خودش رو اجرا \nمی‌کنه (: خیلیم قشنگ. به کانستراکتور دومی اصطلاحا می‌گن ","position":{"start":{"line":52,"column":1,"offset":923},"end":{"line":54,"column":57,"offset":1110},"indent":[1,1]}},{"type":"emphasis","children":[{"type":"text","value":"delegator","position":{"start":{"line":54,"column":58,"offset":1111},"end":{"line":54,"column":67,"offset":1120},"indent":[]}}],"position":{"start":{"line":54,"column":57,"offset":1110},"end":{"line":54,"column":68,"offset":1121},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":54,"column":68,"offset":1121},"end":{"line":54,"column":69,"offset":1122},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":923},"end":{"line":54,"column":69,"offset":1122},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"نکات","position":{"start":{"line":56,"column":4,"offset":1127},"end":{"line":56,"column":8,"offset":1131},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1124},"end":{"line":56,"column":8,"offset":1131},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"امکان اینکه کانستراکتور A یک delegate برای کانستراکتور B باشه و \nهمین کانستراکتور B یک delegate برای کانستراکتور A باشه وجود داره. این \nباعث میشه که برنامه شما کرش کنه. پس باید مراقب باشیم که حلقه بی نهایت \nپیش نیاد.","position":{"start":{"line":58,"column":3,"offset":1135},"end":{"line":61,"column":11,"offset":1354},"indent":[2,2,2]}}],"position":{"start":{"line":58,"column":3,"offset":1135},"end":{"line":61,"column":11,"offset":1354},"indent":[2,2,2]}}],"position":{"start":{"line":58,"column":1,"offset":1133},"end":{"line":61,"column":11,"offset":1354},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"کانستراکتوری که ","position":{"start":{"line":62,"column":3,"offset":1357},"end":{"line":62,"column":19,"offset":1373},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"delegator","position":{"start":{"line":62,"column":20,"offset":1374},"end":{"line":62,"column":29,"offset":1383},"indent":[]}}],"position":{"start":{"line":62,"column":19,"offset":1373},"end":{"line":62,"column":30,"offset":1384},"indent":[]}},{"type":"text","value":" هست نمیتونه عمل member initialization رو انجام بده. در حالت کلی، یک کانستراکتور نمیتونه همزمان هم ","position":{"start":{"line":62,"column":30,"offset":1384},"end":{"line":62,"column":129,"offset":1483},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"initializer","position":{"start":{"line":62,"column":130,"offset":1484},"end":{"line":62,"column":141,"offset":1495},"indent":[]}}],"position":{"start":{"line":62,"column":129,"offset":1483},"end":{"line":62,"column":142,"offset":1496},"indent":[]}},{"type":"text","value":" باشه و هم ","position":{"start":{"line":62,"column":142,"offset":1496},"end":{"line":62,"column":153,"offset":1507},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"delegator","position":{"start":{"line":62,"column":154,"offset":1508},"end":{"line":62,"column":163,"offset":1517},"indent":[]}}],"position":{"start":{"line":62,"column":153,"offset":1507},"end":{"line":62,"column":164,"offset":1518},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":62,"column":164,"offset":1518},"end":{"line":62,"column":165,"offset":1519},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":1357},"end":{"line":62,"column":165,"offset":1519},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":1355},"end":{"line":62,"column":165,"offset":1519},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1133},"end":{"line":62,"column":165,"offset":1519},"indent":[1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":63,"column":1,"offset":1520}}}}